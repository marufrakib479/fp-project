{% extends 'base.html' %}
{% load static %}
{% block title %}Home {% endblock title %}

{% block main %}
<header class="h-screen bg-no-repeat bg-cover" style="background-image: url('{% static 'images/bg.jpg' %}');">
    <div class="w-full h-full backdrop-brightness-[.85]">
        <div class="flex h-full w-full flex-col items-center justify-center container">
            <div class="text-center text-white leading-7">
                <span class="font-bold text-2xl lg:text-5xl uppercase">Never Stop <br> Exploring The World</span>
            </div>

            <form action="{% url 'app_flight:tickets_list' %}"
                class="bg-white p-4 rounded-md w-full my-20 flex justify-between items-center text-neutral-700 gap-4 flex-wrap">
                <div class="flex items-center">
                    {{filter.form.location_from}}
                    <span class="mx-4 text-gray-500">to</span>
                    {{filter.form.location_to}}
                </div>
                <span class="w-px bg-gray-300 h-full hidden md:block"></span>
                <div class="relative max-w-sm">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                        </svg>
                    </div>
                    <input name="depart_date" autocomplete="off" datepicker type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full !pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Select date">
                </div>
                <span class="w-px bg-gray-300 h-full hidden md:block"></span>
                <div class="relative flex-1 md:max-w-[12rem]" id="traveler-container">
                    <span data-dropdown-toggle="dropdown" data-dropdown-placement="bottom-end"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                        <h4 class="font-semibold"><span id="total-traveler">{% if total_traveler %}{{total_traveler}}{% else %}1{% endif %}</span> Travelers</h4>
        
                    </span>
                    <div id="dropdown" class="z-10 hidden bg-white border rounded-lg shadow w-80 p-3 space-y-2">
                        <div class="input-group flex justify-between items-center">
                            <label for="id_traveler_adult" class="text-xs text-gray-500">Adult (12 years and above)</label>
                            <div class="flex gap-2">
                                <button class="decrement" type="button">-</button>
                                <input id="id_traveler_adult" readonly
                                    class="inline-block w-8 bg-gray-50 border text-center border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 flex-1 p-1"
                                    autocomplete="off" min="1" name="traveler_adult" value="{{traveler_adult}}">
                                <button class="increment" type="button">+</button>
                            </div>
                        </div>
                        <div class="input-group flex justify-between items-center">
                            <label for="id_traveler_child" class="text-xs text-gray-500">Child (2-11 years)</label>
                            <div class="flex gap-2">
                                <button class="decrement" type="button">-</button>
                                <input id="id_traveler_child" readonly
                                    class="inline-block w-8 bg-gray-50 border text-center border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 flex-1 p-1"
                                    autocomplete="off" min="1" name="traveler_child" value="{{traveler_child}}">
                                <button class="increment" type="button">+</button>
                            </div>
                        </div>
                        <div class="input-group flex justify-between items-center">
                            <label for="id_traveler_infant" class="text-xs text-gray-500">Infant (Bellow 2 years)</label>
                            <div class="flex gap-2">
                                <button class="decrement" type="button">-</button>
                                <input id="id_traveler_infant" readonly
                                    class="inline-block w-8 bg-gray-50 border text-center border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 flex-1 p-1"
                                    autocomplete="off" min="1" name="traveler_infant" value="{{traveler_infant}}">
                                <button class="increment" type="button">+</button>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="bg-indigo-800 rounded-md px-2 py-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search text-white"
                        width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
                        <path d="M21 21l-6 -6"></path>
                    </svg>
                </button>
            </form>
        </div>
    </div>
</header>

<!-- BANNER IMAGE -->
<div class="image-banner container my-12 md:my-20">
    <img src="{% static 'images/cover-bg.jpg' %}"
        alt="" srcset="" class="w-full rounded-xl">
</div>

<!-- HOT DEALSSLIDE ITEMS  -->
<div class="hot_deals container">
    <div class="heading flex justify-between flex-wrap gap-3 flex-col md:flex-row">
        <h2 class="text-[#20743c] font-bold text-xl md:text-3xl">Hot Deals</h2>
        <div class="option bg-slate-300 rounded-full flex items-center cursor-pointer gap-2 px-2 py-2 w-max">
            <span class="rounded-2xl px-5 font-semibold bg-white"><a href="#">All</a></span>
            <span class="rounded-2xl px-5 font-semibold hover:bg-white"><a href="{% url 'app_flight:tickets_list' %}">Flight</a></span>
            <span class="rounded-2xl px-5 font-semibold hover:bg-white"><a href="{% url 'app_tour:tour_list' %}">Tour</a></span>
        </div>
    </div>
    <div class="slider flex justify-between mt-8 flex-wrap gap-12" id="hot_deals">
        
        {% if discounts %}
        {% for discount in discounts %}
        <div class="card_1 p-4 w-full max-w-lg rounded-lg bg-white flex flex-col justify-between relative shadow m-4">
            <div class="flex flex-col md:flex-row">
                <div class="img md:w-44 flex-none md:-translate-x-8 -translate-y-8">
                    <img src="{% static 'images/discount-10%.jpg' %}" alt="" class="w-full rounded-2xl">
                </div>
                <div class="text-wrapper">
                    <h3 class="text-[#20743c] font-bold text-lg">{{ discount.name }}</h3>
                    <p class="pr-3 mt-2 text-sm">{{ discount.details }}</p>
                </div>
            </div>
            <div class="voucher mt-4">
                <span class="px-2 py-1 bg-slate-200 rounded-md inline-block text-sm">{{ discount.code }}</span>
            </div>
            <div class="absolute -bottom-6 right-4">
                <button type="button"
                    class="focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:focus:ring-yellow-900">Learn
                    More</button>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <h3 class="text-[#20743c] font-bold text-lg">No content are available!</h3>
        {% endif %}

    </div>
</div>


<!-- SPECIAL OFFERS  -->
<div class="speacial_offers mt-24 mb-16 container">
    <div class="heading flex justify-between flex-wrap gap-3 flex-col md:flex-row">
        <h2 class="text-[#20743c] font-bold text-xl md:text-3xl">Special Offers</h2>
        <div class="option bg-slate-300 rounded-full flex items-center cursor-pointer gap-2 px-2 py-2 w-max">
            <span class="rounded-2xl px-5 font-semibold bg-white">All</span>
            <a href="{% url 'app_tour:tour_list' %}" class="rounded-2xl px-5 font-semibold hover:bg-white">Tour</a>
        </div>
    </div>
    <div class="slider grid grid-cols-1 md:grid-cols-3 mt-8 flex-wrap gap-6">

        {% if tours %}
        {% for tour in tours %}
        <div class="card_1 p-4 rounded-lg bg-white flex flex-col justify-between relative shadow">
            <div class="">
                <div class="img flex-none">
                    <img src="{% static 'images/tour-bg.jpg' %}" alt="" class="w-full rounded-lg">
                </div>
                <div class="text-wrapper">
                    <h3 class="text-[#1c3c6b] font-bold text-lg py-4">{{ tour.package_title }}</h3>
                </div>
            </div>
            <div class="absolute -bottom-6 right-4">
                <a href="{% url 'app_tour:tour_details' tour.id  %}"
                    class="focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:focus:ring-yellow-900">Learn
                    More
                </a>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <h3 class="text-[#20743c] font-bold text-lg">No content are available!</h3>
        {% endif %}

    </div>
</div>
{% endblock main %}